<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine üíñ</title>

<style>
body {
  margin: 0;
  height: 100vh;
  background: #ffb6c1;
  font-family: Arial, Helvetica, sans-serif;
  overflow: hidden;
}

/* TITLE */
#title {
  text-align: center;
  margin-top: 120px;
  font-size: clamp(26px, 6vw, 42px);
  color: #8b004f;
  font-weight: bold;
}

#name {
  display: block;
  margin-top: 8px;
  font-size: clamp(20px, 5vw, 30px);
}

/* BUTTON AREA */
#btnArea {
  margin-top: 90px;
  display: flex;
  justify-content: center;
  gap: 100px;
}

/* BUTTONS */
button {
  width: 140px;
  height: 50px;
  border: none;
  border-radius: 12px;
  font-size: 16px;
  color: white;
  cursor: pointer;
  pointer-events: auto;
}

#yes {
  background: #ff4f9a;
}

#no {
  background: #d63384;
  position: relative; /* IMPORTANT */
}

/* BOUNCE */
.bounce {
  animation: bounce 0.4s;
}

@keyframes bounce {
  0% { transform: scale(1); }
  40% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

/* FINAL SCREEN */
#final {
  display: none;
  text-align: center;
  margin-top: 70px;
}

.finalLine {
  font-size: clamp(22px, 6vw, 36px);
  color: #8b004f;
  margin-top: 12px;
  text-shadow: 0 0 12px #ff4f9a;
}

#valPhoto {
  margin-top: 20px;
  width: 240px;
  max-width: 80%;
  border-radius: 16px;
  box-shadow: 0 8px 25px rgba(255,79,154,0.6);
}

/* FIREWORKS */
.spark {
  position: fixed;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  pointer-events: none;
  animation: explode 1.2s linear forwards;
}

@keyframes explode {
  to {
    transform: translate(var(--x), var(--y));
    opacity: 0;
  }
}

/* HEARTS */
.heart {
  position: fixed;
  bottom: -20px;
  font-size: 22px;
  pointer-events: none;
  animation: floatUp 6s linear forwards;
}

@keyframes floatUp {
  to {
    transform: translateY(-110vh);
    opacity: 0;
  }
}
</style>
</head>

<body>

<div id="title">
  Will you be my Valentine
  <span id="name">MADAM G üòçüíñ</span>
</div>

<div id="btnArea">
  <button id="yes">Yes üíï</button>
  <button id="no">No üíî</button>
</div>

<div id="final">
  <div class="finalLine">Yay! I knew you would say yes ü•∞</div>
  <img id="valPhoto" src="valentine.jpg">
  <div class="finalLine">You have made me the happiest person üíï</div>
  <div class="finalLine">Happy Valentine Day üíñ</div>
</div>

<audio id="bgMusic" loop>
  <source src="love-music.mp3" type="audio/mpeg">
</audio>

<script>
const noTexts = [
  "Are you sure? üòè",
  "Really? ü§®",
  "Try again üòú",
  "You sure? üòÖ",
  "Haha nice try üòÇ",
  "No escape üòà",
  "You can't escape love üíò",
  "Still no? üò≠",
  "Testing my patience üò§",
  "Nope, not happening üòÜ"
];

let noIndex = 0;

/* NO BUTTON */
document.getElementById("no").onclick = () => {
  const btn = document.getElementById("no");
  btn.textContent = noTexts[noIndex % noTexts.length];
  noIndex++;

  btn.classList.remove("bounce");
  void btn.offsetWidth;
  btn.classList.add("bounce");

  btn.style.left = (Math.random() * 200 - 100) + "px";
  btn.style.top  = (Math.random() * 120 - 60) + "px";
};

/* YES BUTTON */
document.getElementById("yes").onclick = () => {
  document.getElementById("title").style.display = "none";
  document.getElementById("btnArea").style.display = "none";

  const music = document.getElementById("bgMusic");
  music.volume = 0.35;
  music.play();

  const fw = setInterval(firework, 400);

  setTimeout(() => {
    clearInterval(fw);
    document.getElementById("final").style.display = "block";
    setInterval(heart, 350);
  }, 3000);
};

function firework() {
  const x = Math.random() * window.innerWidth;
  const y = Math.random() * window.innerHeight * 0.6;

  for (let i = 0; i < 40; i++) {
    const s = document.createElement("div");
    s.className = "spark";
    s.style.left = x + "px";
    s.style.top = y + "px";
    s.style.background = ["#ff4f9a","#ffd700","#fff","#ff85b3"][Math.floor(Math.random()*4)];
    s.style.setProperty("--x", (Math.random()*300 - 150) + "px");
    s.style.setProperty("--y", (Math.random()*300 - 150) + "px");
    document.body.appendChild(s);
    setTimeout(() => s.remove(), 1200);
  }
}

function heart() {
  const h = document.createElement("div");
  h.className = "heart";
  h.textContent = "üíñ";
  h.style.left = Math.random() * window.innerWidth + "px";
  h.style.fontSize = (16 + Math.random()*20) + "px";
  document.body.appendChild(h);
  setTimeout(() => h.remove(), 6000);
}
</script>

</body>
</html>
